"use strict";(self.webpackChunkbmg_web_app=self.webpackChunkbmg_web_app||[]).push([[124],{7562:function(e,t,n){var r=n(1413),a=n(2791),i=n(6871),c=n(374),l=n(184);t.Z=function(e,t){return function(n){var s=(0,a.useContext)(c.V),o=(0,i.s0)(),u=s.userToken;return(0,a.useEffect)((function(){"undefined"!==typeof window&&(u?-1===(null===t||void 0===t?void 0:t.indexOf(s.userRole))&&o("/403",{replace:!0}):o("/auth",{replace:!0}))}),[u,s.userRole,o]),"undefined"!==typeof window?s.isLoading?(console.log("loading from with auth"),null):(0,l.jsx)(e,(0,r.Z)({},n)):null}}},124:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(9439),a=n(2791),i=n(6871),c=n(8735),l=n(3695),s=n(7309),o=n(8164),u=n(6106),d=n(8361),f=n(5696),m=n(7562),p=n(2567),v=n(3853),h=n(6208),g=n(7496),x=n(4980),Z=n(1333),y=n(2393),C=n(184),w=function(e){var t=e.visible,n=e.onCancel,i=e.setUpdateData,c=(0,a.useState)(""),o=(0,r.Z)(c,2),u=o[0],d=o[1],f=(0,a.useState)(""),m=(0,r.Z)(f,2),w=m[0],j=m[1],b=(0,a.useState)(""),E=(0,r.Z)(b,2),N=E[0],k=E[1],q=g.Z.useForm(),P=(0,r.Z)(q,1)[0],I=(0,a.useState)({url:"",data:{},trigger:0}),R=(0,r.Z)(I,2),S=R[0],z=R[1],M=(0,h.u5)(S.url,S.data,S.trigger),O=M.onSuccess,D=M.loading;return(0,a.useEffect)((function(){O.includes("success")&&(l.ZP.success("Berhasil Create Radius ".concat(u)),d(""),j(""),k(""),P.resetFields(),n(),i(Date.now()))}),[O]),(0,C.jsx)(x.Z,{title:"Create Radius",visible:t,onCancel:n,footer:!1,children:(0,C.jsxs)(g.Z,{form:P,name:"createradius",autoComplete:"off",children:[(0,C.jsx)(p.yt,{label:"Title",requiredLabel:!0,name:"title",required:!0,message:"please input title!",placeholder:"input title",onChange:function(e){return(0,y.IY)(e,d)}}),(0,C.jsx)(p.yt,{label:"Radius in Meter",requiredLabel:!0,name:"radius",required:!0,message:"please input radius!",placeholder:"input radius",onChange:function(e){return(0,y.IY)(e,j)},type:"number"}),(0,C.jsx)(p.ld,{label:"Remark",name:"remark",rows:4,placeholder:"input remark",onChange:function(e){return(0,y.IY)(e,k)}}),(0,C.jsx)(Z.Z,{}),(0,C.jsx)(p.Wy,{children:(0,C.jsx)(g.Z.Item,{children:(0,C.jsx)(s.Z,{type:"primary",shape:"round",icon:(0,C.jsx)(v.t$,{style:{marginRight:"6px"}}),onClick:function(){if(!u||!w)return l.ZP.warn("Form tidak boleh kosong"),null;var e={title:u,radius:w,remark:N};console.log("data post: ",e),z({url:"site/radius",data:e,trigger:Date.now()})},loading:D,htmlType:"submit",children:"Create Radius"})})})]})})},j=n(4971),b=c.Z.Title,E=c.Z.Text,N=(0,m.Z)((function(){var e=(0,a.useState)(0),t=(0,r.Z)(e,2),n=t[0],c=t[1],m=(0,h.KQ)("site/list_radius",n),g=m.data,x=m.loading,Z=(0,h.KQ)("site/current_radius",n),N=Z.data,k=Z.loading;console.log(N);var q=(0,a.useMemo)((function(){return g}),[g]),P=(0,h.qY)(),I=P.isOpen,R=P.onOpen,S=P.onClose,z=(0,i.s0)(),M=(0,a.useState)({url:"",data:{},trigger:0}),O=(0,r.Z)(M,2),D=O[0],_=O[1],F=(0,h.Fc)(D.url,D.data,D.trigger),T=F.onSuccess,U=F.loading;(0,a.useEffect)((function(){T.includes("success")&&(l.ZP.success("Berhasil Update Radius"),c(Date.now()))}),[T]);var B=[{title:"#",dataIndex:"id",width:70},{title:"Title",dataIndex:"title"},{title:"Radius",dataIndex:"value",render:function(e){return(0,y.U6)(Number(e))}},{width:100,render:function(e,t){return(0,C.jsx)(s.Z,{shape:"round",type:"primary",onClick:function(){return e=t.id,void _({url:"site/update_current_radius?id=".concat(e),data:{},trigger:Date.now()});var e},loading:U,children:"Select"})}}];return(0,C.jsxs)("div",{children:[(0,C.jsxs)(o.Z,{style:{margin:"16px 0"},children:[(0,C.jsx)(o.Z.Item,{style:{cursor:"pointer"},onClick:function(){return z("/site")},children:"Site"}),(0,C.jsx)(o.Z.Item,{children:"Radius Config"})]}),(0,C.jsx)(w,{visible:I,onCancel:S,setUpdateData:c}),(0,C.jsx)("div",{children:(0,C.jsxs)(p.Zb,{children:[(0,C.jsx)(b,{level:3,type:"secondary",style:{marginRight:20,marginBottom:30},children:"Radius Config"}),(0,C.jsxs)(u.Z,{gutter:[16,10],children:[(0,C.jsx)(p.lr,{children:(0,C.jsx)(s.Z,{shape:"round",icon:(0,C.jsx)(v.xVi,{style:{marginRight:6}}),onClick:R,children:"New Radius"})}),(0,C.jsx)(p.r$,{children:(0,C.jsx)(d.Z,{loading:k,children:(0,C.jsx)(p.Wy,{children:(0,C.jsxs)(E,{style:{fontSize:18,color:j.zP},children:["Current radius is"," ",(0,C.jsx)(E,{strong:!0,style:{color:j.b8,fontSize:20},children:(0,y.U6)(Number(N))})]})})})})]}),(0,C.jsx)("div",{style:{marginTop:"20px"},children:(0,C.jsx)(f.Z,{columns:B,dataSource:q,rowKey:function(e){return e.id},loading:x,scroll:{y:500}})})]})})]})}),[1])},2393:function(e,t,n){n.d(t,{QD:function(){return a},cX:function(){return i},IY:function(){return c},U6:function(){return l}});n(2426);var r=n(5095),a=function(e){return new Intl.NumberFormat("id-ID").format(e)},i=function(e){return new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},c=n.n(r)()((function(e,t){return t(e.target.value)}),500),l=function(e){return"number"===typeof e?e>=1e6?"".concat((e/1e6).toFixed(2)," MM"):e>=1e3?"".concat((e/1e3).toFixed(2)," KM"):"".concat(e," Meter"):e}},1333:function(e,t,n){var r=n(7462),a=n(4942),i=n(2791),c=n(1694),l=n.n(c),s=n(9077),o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};t.Z=function(e){return i.createElement(s.C,null,(function(t){var n,c=t.getPrefixCls,s=t.direction,u=e.prefixCls,d=e.type,f=void 0===d?"horizontal":d,m=e.orientation,p=void 0===m?"center":m,v=e.orientationMargin,h=e.className,g=e.children,x=e.dashed,Z=e.plain,y=o(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),C=c("divider",u),w=p.length>0?"-".concat(p):p,j=!!g,b="left"===p&&null!=v,E="right"===p&&null!=v,N=l()(C,"".concat(C,"-").concat(f),(n={},(0,a.Z)(n,"".concat(C,"-with-text"),j),(0,a.Z)(n,"".concat(C,"-with-text").concat(w),j),(0,a.Z)(n,"".concat(C,"-dashed"),!!x),(0,a.Z)(n,"".concat(C,"-plain"),!!Z),(0,a.Z)(n,"".concat(C,"-rtl"),"rtl"===s),(0,a.Z)(n,"".concat(C,"-no-default-orientation-margin-left"),b),(0,a.Z)(n,"".concat(C,"-no-default-orientation-margin-right"),E),n),h),k=(0,r.Z)((0,r.Z)({},b&&{marginLeft:v}),E&&{marginRight:v});return i.createElement("div",(0,r.Z)({className:N},y,{role:"separator"}),g&&i.createElement("span",{className:"".concat(C,"-inner-text"),style:k},g))}))}},6106:function(e,t,n){var r=n(7545);t.Z=r.Z},8361:function(e,t,n){n.d(t,{Z:function(){return b}});var r=n(4942),a=n(7462),i=n(1002),c=n(2791),l=n(1694),s=n.n(l),o=function(e){var t=e.prefixCls,n=e.className,r=e.width,i=e.style;return c.createElement("h3",{className:s()(t,n),style:(0,a.Z)({width:r},i)})},u=n(3433),d=function(e){var t=function(t){var n=e.width,r=e.rows,a=void 0===r?2:r;return Array.isArray(n)?n[t]:a-1===t?n:void 0},n=e.prefixCls,r=e.className,a=e.style,i=e.rows,l=(0,u.Z)(Array(i)).map((function(e,n){return c.createElement("li",{key:n,style:{width:t(n)}})}));return c.createElement("ul",{className:s()(n,r),style:a},l)},f=n(9077),m=function(e){var t,n,i=e.prefixCls,l=e.className,o=e.style,u=e.size,d=e.shape,f=s()((t={},(0,r.Z)(t,"".concat(i,"-lg"),"large"===u),(0,r.Z)(t,"".concat(i,"-sm"),"small"===u),t)),m=s()((n={},(0,r.Z)(n,"".concat(i,"-circle"),"circle"===d),(0,r.Z)(n,"".concat(i,"-square"),"square"===d),(0,r.Z)(n,"".concat(i,"-round"),"round"===d),n)),p="number"===typeof u?{width:u,height:u,lineHeight:"".concat(u,"px")}:{};return c.createElement("span",{className:s()(i,f,m,l),style:(0,a.Z)((0,a.Z)({},p),o)})},p=n(1818),v=function(e){var t=function(t){var n=t.getPrefixCls,i=e.prefixCls,l=e.className,o=e.active,u=n("skeleton",i),d=(0,p.Z)(e,["prefixCls","className"]),f=s()(u,"".concat(u,"-element"),(0,r.Z)({},"".concat(u,"-active"),o),l);return c.createElement("div",{className:f},c.createElement(m,(0,a.Z)({prefixCls:"".concat(u,"-avatar")},d)))};return c.createElement(f.C,null,t)};v.defaultProps={size:"default",shape:"circle"};var h=v,g=function(e){var t=function(t){var n,i=t.getPrefixCls,l=e.prefixCls,o=e.className,u=e.active,d=e.block,f=void 0!==d&&d,v=i("skeleton",l),h=(0,p.Z)(e,["prefixCls"]),g=s()(v,"".concat(v,"-element"),(n={},(0,r.Z)(n,"".concat(v,"-active"),u),(0,r.Z)(n,"".concat(v,"-block"),f),n),o);return c.createElement("div",{className:g},c.createElement(m,(0,a.Z)({prefixCls:"".concat(v,"-button")},h)))};return c.createElement(f.C,null,t)};g.defaultProps={size:"default"};var x=g,Z=function(e){var t=function(t){var n=t.getPrefixCls,i=e.prefixCls,l=e.className,o=e.active,u=n("skeleton",i),d=(0,p.Z)(e,["prefixCls"]),f=s()(u,"".concat(u,"-element"),(0,r.Z)({},"".concat(u,"-active"),o),l);return c.createElement("div",{className:f},c.createElement(m,(0,a.Z)({prefixCls:"".concat(u,"-input")},d)))};return c.createElement(f.C,null,t)};Z.defaultProps={size:"default"};var y=Z,C=function(e){var t=function(t){var n=t.getPrefixCls,r=e.prefixCls,a=e.className,i=e.style,l=n("skeleton",r),o=s()(l,"".concat(l,"-element"),a);return c.createElement("div",{className:o},c.createElement("div",{className:s()("".concat(l,"-image"),a),style:i},c.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(l,"-image-svg")},c.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(l,"-image-path")}))))};return c.createElement(f.C,null,t)};function w(e){return e&&"object"===(0,i.Z)(e)?e:{}}var j=function(e){var t=function(t){var n=t.getPrefixCls,i=t.direction,l=e.prefixCls,u=e.loading,f=e.className,p=e.style,v=e.children,h=e.avatar,g=e.title,x=e.paragraph,Z=e.active,y=e.round,C=n("skeleton",l);if(u||!("loading"in e)){var j,b,E,N=!!h,k=!!g,q=!!x;if(N){var P=(0,a.Z)((0,a.Z)({prefixCls:"".concat(C,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(k,q)),w(h));b=c.createElement("div",{className:"".concat(C,"-header")},c.createElement(m,P))}if(k||q){var I,R;if(k){var S=(0,a.Z)((0,a.Z)({prefixCls:"".concat(C,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(N,q)),w(g));I=c.createElement(o,S)}if(q){var z=(0,a.Z)((0,a.Z)({prefixCls:"".concat(C,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(N,k)),w(x));R=c.createElement(d,z)}E=c.createElement("div",{className:"".concat(C,"-content")},I,R)}var M=s()(C,(j={},(0,r.Z)(j,"".concat(C,"-with-avatar"),N),(0,r.Z)(j,"".concat(C,"-active"),Z),(0,r.Z)(j,"".concat(C,"-rtl"),"rtl"===i),(0,r.Z)(j,"".concat(C,"-round"),y),j),f);return c.createElement("div",{className:M,style:p},b,E)}return v};return c.createElement(f.C,null,t)};j.defaultProps={avatar:!1,title:!0,paragraph:!0},j.Button=x,j.Avatar=h,j.Input=y,j.Image=C;var b=j}}]);
//# sourceMappingURL=124.cb124a6b.chunk.js.map