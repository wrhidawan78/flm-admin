"use strict";(self.webpackChunkbmg_web_app=self.webpackChunkbmg_web_app||[]).push([[175],{7562:function(e,r,n){var t=n(1413),a=n(2791),o=n(6871),s=n(374),l=n(184);r.Z=function(e,r){return function(n){var i=(0,a.useContext)(s.V),c=(0,o.s0)(),u=i.userToken;return(0,a.useEffect)((function(){"undefined"!==typeof window&&(u?-1===(null===r||void 0===r?void 0:r.indexOf(i.userRole))&&c("/403",{replace:!0}):c("/auth",{replace:!0}))}),[u,i.userRole,c]),"undefined"!==typeof window?i.isLoading?(console.log("loading from with auth"),null):(0,l.jsx)(e,(0,t.Z)({},n)):null}}},8175:function(e,r,n){n.r(r);var t=n(5861),a=n(9439),o=n(7757),s=n.n(o),l=n(2791),i=n(8735),c=n(7496),u=n(3695),d=n(8164),p=n(7734),m=n(7309),f=n(7562),h=n(374),x=n(4971),b=n(2567),y=n(3853),g=n(6208),v=n(2393),w=n(184),j=i.Z.Text,E=i.Z.Title,Z=function(e){var r=e.icon,n=e.value;return(0,w.jsxs)(j,{style:{color:x.zP,fontSize:18},children:[r," ",n]})};r.default=(0,f.Z)((function(){var e=(0,l.useState)(""),r=(0,a.Z)(e,2),n=r[0],o=r[1],i=(0,l.useState)(""),f=(0,a.Z)(i,2),C=f[0],P=f[1],k=(0,l.useState)(""),O=(0,a.Z)(k,2),_=O[0],I=O[1],N=(0,l.useContext)(h.V).signOut,R=(0,l.useContext)(h.V),T=c.Z.useForm(),S=(0,a.Z)(T,1)[0],B=(0,l.useState)({url:"",data:{},trigger:0}),A=(0,a.Z)(B,2),M=A[0],D=A[1],z=(0,g.Fc)(M.url,M.data,M.trigger),U=z.onSuccess,F=z.loading,L=function(){var e=(0,t.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&C&&_){e.next=3;break}return u.ZP.warn("Form tidak boleh kosong"),e.abrupt("return",null);case 3:if(!(C.length<8)){e.next=6;break}return u.ZP.warn("New Password panjang minimal 8 karakter!"),e.abrupt("return",null);case 6:if(!(_.length<8)){e.next=9;break}return u.ZP.warn("Confirm New Password panjang minimal 8 karakter!"),e.abrupt("return",null);case 9:if(C===_){e.next=12;break}return u.ZP.warn("Confirm New Password tidak sesuai!"),e.abrupt("return",null);case 12:r={user_id:R.userId,email:n,password:_,active:1,role_id:R.userRole,employe_id:R.userEmpId},D({url:"users/edit",data:r,trigger:(new Date).getTime()});case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){U&&(u.ZP.success("Berhasil update password"),setTimeout((function(){N()}),1e3))}),[U]),(0,l.useEffect)((function(){o(R.userEmail),S.setFieldsValue({email:R.userEmail})}),[R.userEmail,S]),(0,w.jsxs)("div",{children:[(0,w.jsx)(d.Z,{style:{margin:"16px 0"},children:(0,w.jsx)(d.Z.Item,{children:"Profile"})}),(0,w.jsx)("div",{children:(0,w.jsxs)(b.Zb,{children:[(0,w.jsxs)(b.Ej,{style:{justifyContent:"flex-start"},children:[(0,w.jsx)("div",{style:{marginRight:30},children:(0,w.jsx)(p.C,{size:140,style:{color:x.RJ,backgroundColor:x.Lr,textTransform:"uppercase",fontSize:50},children:R.userName.substr(0,1)})}),(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginTop:16},children:[(0,w.jsx)(j,{style:{color:x.Lr,fontSize:24,fontWeight:"bold",textTransform:"uppercase"},children:R.userName}),(0,w.jsx)(Z,{icon:(0,w.jsx)(y.yK7,{}),value:R.userEmpId}),(0,w.jsx)(Z,{icon:(0,w.jsx)(y.Imn,{}),value:R.userEmail})]})]}),(0,w.jsxs)("div",{style:{marginTop:40},children:[(0,w.jsx)(E,{level:3,type:"secondary",style:{marginBottom:30},children:"Change Password"}),(0,w.jsxs)(c.Z,{form:S,name:"changePassword",autoComplete:"off",children:[(0,w.jsx)(b.yt,{label:"Email",requiredLabel:!0,name:"email",required:!0,message:"Please input your email!",prefix:(0,w.jsx)(y.UIZ,{color:"rgba(0,0,0,.25)"}),size:"large",placeholder:"enter your email",onChange:function(e){return(0,v.IY)(e,o)}}),(0,w.jsx)(b.$M,{label:"New Password",requiredLabel:!0,name:"newpassword",required:!0,message:"Please input new password!",prefix:(0,w.jsx)(y.UIZ,{color:"rgba(0,0,0,.25)"}),size:"large",placeholder:"enter new password",onChange:function(e){return(0,v.IY)(e,P)}}),(0,w.jsx)(b.$M,{label:"Confirm Password",requiredLabel:!0,name:"confirmpassword",required:!0,message:"Please input confirm password!",prefix:(0,w.jsx)(y.UIZ,{color:"rgba(0,0,0,.25)"}),size:"large",placeholder:"enter confirm password",onChange:function(e){return(0,v.IY)(e,I)},onPressEnter:L}),(0,w.jsx)(c.Z.Item,{children:(0,w.jsx)(m.Z,{type:"primary",shape:"round",icon:(0,w.jsx)(y.t$,{style:{marginRight:"6px"}}),size:"large",onClick:L,loading:F,htmlType:"submit",children:"Change Password"})})]})]})]})})]})}))},2393:function(e,r,n){n.d(r,{QD:function(){return a},cX:function(){return o},IY:function(){return s},U6:function(){return l}});n(2426);var t=n(5095),a=function(e){return new Intl.NumberFormat("id-ID").format(e)},o=function(e){return new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},s=n.n(t)()((function(e,r){return r(e.target.value)}),500),l=function(e){return"number"===typeof e?e>=1e6?"".concat((e/1e6).toFixed(2)," MM"):e>=1e3?"".concat((e/1e3).toFixed(2)," KM"):"".concat(e," Meter"):e}},8164:function(e,r,n){n.d(r,{Z:function(){return C}});var t=n(7462),a=n(4942),o=n(3433),s=n(2791),l=n(1694),i=n.n(l),c=n(5501),u=n(7295),d=n(3950),p=n(9077),m=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n},f=function(e){var r,n,a=e.prefixCls,o=e.separator,l=void 0===o?"/":o,i=e.children,c=e.overlay,f=e.dropdownProps,h=m(e,["prefixCls","separator","children","overlay","dropdownProps"]),x=(0,s.useContext(p.E_).getPrefixCls)("breadcrumb",a);return r="href"in h?s.createElement("a",(0,t.Z)({className:"".concat(x,"-link")},h),i):s.createElement("span",(0,t.Z)({className:"".concat(x,"-link")},h),i),n=r,r=c?s.createElement(d.Z,(0,t.Z)({overlay:c,placement:"bottomCenter"},f),s.createElement("span",{className:"".concat(x,"-overlay-link")},n,s.createElement(u.Z,null))):n,i?s.createElement("span",null,r,l&&s.createElement("span",{className:"".concat(x,"-separator")},l)):null};f.__ANT_BREADCRUMB_ITEM=!0;var h=f,x=function(e){var r=e.children,n=(0,s.useContext(p.E_).getPrefixCls)("breadcrumb");return s.createElement("span",{className:"".concat(n,"-separator")},r||"/")};x.__ANT_BREADCRUMB_SEPARATOR=!0;var b=x,y=n(1839),g=n(4824),v=n(1113),w=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(n[t[a]]=e[t[a]])}return n};function j(e,r,n,t){var a=n.indexOf(e)===n.length-1,o=function(e,r){if(!e.breadcrumbName)return null;var n=Object.keys(r).join("|");return e.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),(function(e,n){return r[n]||e}))}(e,r);return a?s.createElement("span",null,o):s.createElement("a",{href:"#/".concat(t.join("/"))},o)}var E=function(e,r){return e=(e||"").replace(/^\//,""),Object.keys(r).forEach((function(n){e=e.replace(":".concat(n),r[n])})),e},Z=function(e){var r,n=e.prefixCls,l=e.separator,u=void 0===l?"/":l,d=e.style,m=e.className,f=e.routes,x=e.children,b=e.itemRender,Z=void 0===b?j:b,C=e.params,P=void 0===C?{}:C,k=w(e,["prefixCls","separator","style","className","routes","children","itemRender","params"]),O=s.useContext(p.E_),_=O.getPrefixCls,I=O.direction,N=_("breadcrumb",n);if(f&&f.length>0){var R=[];r=f.map((function(e){var r,n=E(e.path,P);return n&&R.push(n),e.children&&e.children.length&&(r=s.createElement(y.Z,null,e.children.map((function(e){return s.createElement(y.Z.Item,{key:e.path||e.breadcrumbName},Z(e,P,f,function(e,r,n){var t=(0,o.Z)(e),a=E(r||"",n);return a&&t.push(a),t}(R,e.path,P)))})))),s.createElement(h,{overlay:r,separator:u,key:n||e.breadcrumbName},Z(e,P,f,R))}))}else x&&(r=(0,c.Z)(x).map((function(e,r){return e?((0,g.Z)(e.type&&(!0===e.type.__ANT_BREADCRUMB_ITEM||!0===e.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),(0,v.Tm)(e,{separator:u,key:r})):e})));var T=i()(N,(0,a.Z)({},"".concat(N,"-rtl"),"rtl"===I),m);return s.createElement("div",(0,t.Z)({className:T,style:d},k),r)};Z.Item=h,Z.Separator=b;var C=Z}}]);
//# sourceMappingURL=175.06cf10a2.chunk.js.map