"use strict";(self.webpackChunkbmg_web_app=self.webpackChunkbmg_web_app||[]).push([[300],{7562:function(e,n,t){var a=t(1413),r=t(2791),i=t(6871),o=t(374),l=t(184);n.Z=function(e,n){return function(t){var c=(0,r.useContext)(o.V),s=(0,i.s0)(),u=c.userToken;return(0,r.useEffect)((function(){"undefined"!==typeof window&&(u?-1===(null===n||void 0===n?void 0:n.indexOf(c.userRole))&&s("/403",{replace:!0}):s("/auth",{replace:!0}))}),[u,c.userRole,s]),"undefined"!==typeof window?c.isLoading?(console.log("loading from with auth"),null):(0,l.jsx)(e,(0,a.Z)({},t)):null}}},4300:function(e,n,t){t.r(n),t.d(n,{default:function(){return O}});var a=t(9439),r=t(2791),i=t(6871),o=t(8735),l=t(8164),c=t(6106),s=t(7309),u=t(7496),d=t(5696),f=t(7562),m=t(2567),p=t(3853),h=t(4971),g=t(6208),x=t(5095),Z=t.n(x),j=t(5303),y=t(3695),v=t(4980),b=t(1333),w=t(2393),C=t(184),I=j.Z.Option,S=function(e){var n=e.visible,t=e.onCancel,i=e.setUpdateData,o=e.data,l=e.updating,c=(0,r.useState)(""),d=(0,a.Z)(c,2),f=d[0],h=d[1],x=(0,r.useState)(""),Z=(0,a.Z)(x,2),j=Z[0],S=Z[1],k=(0,r.useState)(""),A=(0,a.Z)(k,2),O=A[0],D=A[1],N=(0,r.useState)(""),F=(0,a.Z)(N,2),P=F[0],R=F[1],L=function(){h(""),S(""),D(""),R(""),T.resetFields()},M=u.Z.useForm(),T=(0,a.Z)(M,1)[0],q=(0,r.useState)({url:"",data:{},trigger:0}),E=(0,a.Z)(q,2),U=E[0],_=E[1],Y=(0,r.useState)({url:"",data:{},trigger:0}),B=(0,a.Z)(Y,2),K=B[0],V=B[1],$=(0,g.u5)(U.url,U.data,U.trigger),Q=$.onSuccess,z=$.loading,W=(0,g.Fc)(K.url,K.data,K.trigger),X=W.onSuccess,G=W.loading;return(0,r.useEffect)((function(){Q.includes("success")&&(y.ZP.success("Berhasil Create Area ".concat(j)),L(),t(),i(Date.now())),X.includes("success")&&(y.ZP.success("Berhasil Update Area ".concat(j)),L(),t(),i(Date.now()))}),[Q,X]),(0,r.useEffect)((function(){o.id&&l?(h(o.id),S(o.area),D(o.name),T.setFieldsValue({areaNo:o.id,areaId:o.area,areaName:o.name})):L()}),[o,l]),(0,C.jsx)(v.Z,{title:l?"Update Area":"Create Area",visible:n,onCancel:t,footer:!1,children:(0,C.jsxs)(u.Z,{form:T,name:"createsite",autoComplete:"off",children:[(0,C.jsx)(m.yt,{label:"Area Id",requiredLabel:!0,name:"areaId",required:!0,message:"please input area id!",placeholder:"input area id",onChange:function(e){return(0,w.IY)(e,S)},disabled:!!l}),(0,C.jsx)(m.yt,{label:"Area Name",requiredLabel:!0,name:"areaName",required:!0,message:"please input area name!",placeholder:"input area name",onChange:function(e){return(0,w.IY)(e,D)}}),(0,C.jsxs)(m.ih,{name:"status",label:"Status",requiredLabel:!0,required:!0,message:"Please select status!",placeholder:"select status",onChange:function(e){return R(e)},children:[(0,C.jsx)(I,{value:1,children:"Active"}),(0,C.jsx)(I,{value:0,children:"Inactive"})]}),(0,C.jsx)(b.Z,{}),(0,C.jsx)(m.Wy,{children:(0,C.jsx)(u.Z.Item,{children:l?(0,C.jsx)(s.Z,{type:"primary",shape:"round",icon:(0,C.jsx)(p.t$,{style:{marginRight:"6px"}}),onClick:function(){if(!f||!j||!O||""===P)return y.ZP.warn("Form tidak boleh kosong"),null;var e={area_id:f,area:j,status:P,name:O};console.log("data update: ",e),V({url:"area/edit",data:e,trigger:(new Date).getTime()})},loading:G,htmlType:"submit",children:"Update Area"}):(0,C.jsx)(s.Z,{type:"primary",shape:"round",icon:(0,C.jsx)(p.t$,{style:{marginRight:"6px"}}),onClick:function(){if(!j||!O||""===P)return y.ZP.warn("Form tidak boleh kosong"),null;var e={area:j,name:O,status:P};console.log("data post: ",e),_({url:"area/add",data:e,trigger:(new Date).getTime()})},loading:z,htmlType:"submit",children:"Create Area"})})})]})})},k=o.Z.Title,A=o.Z.Text,O=(0,f.Z)((function(){var e=(0,r.useState)(0),n=(0,a.Z)(e,2),t=n[0],o=n[1],f=(0,g.KQ)("area",t),x=f.data,j=f.loading,y=(0,r.useState)(""),v=(0,a.Z)(y,2),b=v[0],w=v[1],I=(0,r.useState)({}),O=(0,a.Z)(I,2),D=O[0],N=O[1],F=(0,r.useState)(!1),P=(0,a.Z)(F,2),R=P[0],L=P[1],M=(0,r.useMemo)((function(){return 0===x.length?[]:x.filter((function(e){var n;return null===(n=e.name)||void 0===n?void 0:n.toLowerCase().includes(null===b||void 0===b?void 0:b.toLowerCase())}))}),[x,b]),T=(0,g.qY)(),q=T.isOpen,E=T.onOpen,U=T.onClose,_=(0,i.s0)(),Y=(0,r.useRef)(Z()((function(e){return w(e)}),1e3)).current,B=function(e){L(!0),N(e),E()},K=[{title:"#",dataIndex:"id",render:function(e,n){return(0,C.jsx)(A,{strong:!0,style:{cursor:"pointer"},onClick:function(){return B(n)},children:e})},width:70},{title:"Area Id",dataIndex:"area",render:function(e,n){return(0,C.jsx)(A,{strong:!0,style:{cursor:"pointer"},onClick:function(){return B(n)},children:e})}},{title:"Area Name",dataIndex:"name"}];return(0,C.jsxs)("div",{children:[(0,C.jsxs)(l.Z,{style:{margin:"16px 0"},children:[(0,C.jsx)(l.Z.Item,{style:{cursor:"pointer"},onClick:function(){return _("/user-management")},children:"User Management"}),(0,C.jsx)(l.Z.Item,{children:"Area"})]}),(0,C.jsx)(S,{visible:q,onCancel:U,setUpdateData:o,data:D,updating:R}),(0,C.jsx)("div",{children:(0,C.jsxs)(m.Zb,{children:[(0,C.jsx)(k,{level:3,type:"secondary",style:{marginRight:20,marginBottom:30},children:"Area"}),(0,C.jsxs)(c.Z,{gutter:[16,10],children:[(0,C.jsx)(m.lr,{children:(0,C.jsx)(s.Z,{shape:"round",icon:(0,C.jsx)(p.xVi,{style:{marginRight:6}}),onClick:function(){L(!1),E()},children:"New Area"})}),(0,C.jsx)(m.r$,{children:(0,C.jsx)(u.Z,{name:"searchArea",autoComplete:"off",children:(0,C.jsx)(m.yt,{name:"search",prefix:(0,C.jsx)(p.jRj,{color:h.wm}),allowClear:!0,placeholder:"serach area",value:b,onChange:function(e){return Y(e.target.value)}})})})]}),(0,C.jsx)("div",{style:{marginTop:"20px"},children:(0,C.jsx)(d.Z,{columns:K,dataSource:M,rowKey:function(e){return e.id},loading:j,scroll:{y:500}})})]})})]})}))},2393:function(e,n,t){t.d(n,{QD:function(){return r},cX:function(){return i},IY:function(){return o},U6:function(){return l}});t(2426);var a=t(5095),r=function(e){return new Intl.NumberFormat("id-ID").format(e)},i=function(e){return new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})},o=t.n(a)()((function(e,n){return n(e.target.value)}),500),l=function(e){return"number"===typeof e?e>=1e6?"".concat((e/1e6).toFixed(2)," MM"):e>=1e3?"".concat((e/1e3).toFixed(2)," KM"):"".concat(e," Meter"):e}},1333:function(e,n,t){var a=t(7462),r=t(4942),i=t(2791),o=t(1694),l=t.n(o),c=t(9077),s=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t};n.Z=function(e){return i.createElement(c.C,null,(function(n){var t,o=n.getPrefixCls,c=n.direction,u=e.prefixCls,d=e.type,f=void 0===d?"horizontal":d,m=e.orientation,p=void 0===m?"center":m,h=e.orientationMargin,g=e.className,x=e.children,Z=e.dashed,j=e.plain,y=s(e,["prefixCls","type","orientation","orientationMargin","className","children","dashed","plain"]),v=o("divider",u),b=p.length>0?"-".concat(p):p,w=!!x,C="left"===p&&null!=h,I="right"===p&&null!=h,S=l()(v,"".concat(v,"-").concat(f),(t={},(0,r.Z)(t,"".concat(v,"-with-text"),w),(0,r.Z)(t,"".concat(v,"-with-text").concat(b),w),(0,r.Z)(t,"".concat(v,"-dashed"),!!Z),(0,r.Z)(t,"".concat(v,"-plain"),!!j),(0,r.Z)(t,"".concat(v,"-rtl"),"rtl"===c),(0,r.Z)(t,"".concat(v,"-no-default-orientation-margin-left"),C),(0,r.Z)(t,"".concat(v,"-no-default-orientation-margin-right"),I),t),g),k=(0,a.Z)((0,a.Z)({},C&&{marginLeft:h}),I&&{marginRight:h});return i.createElement("div",(0,a.Z)({className:S},y,{role:"separator"}),x&&i.createElement("span",{className:"".concat(v,"-inner-text"),style:k},x))}))}},6106:function(e,n,t){var a=t(7545);n.Z=a.Z}}]);
//# sourceMappingURL=300.788a4626.chunk.js.map